transport io ByteArrayInputStream io ByteArrayOutputStream io InputStream io net net HttpURLConnection HashMap http HttpHost http HttpResponse http HttpStatus http client HttpClient http client methods HttpPost http entity http CoreConnectionPNames thttpclient ttransport url_ bytearrayoutputstream requestbuffer_ bytearrayoutputstream inputstream inputstream_ connecttimeout_ readtimeout_ customheaders_ httphost host httpclient client factory ttransportfactory url httpclient client factory url this.url url this.client factory url httpclient client this.url url this.client client override ttransport gettransport ttransport trans client thttpclient url client thttpclient url ttransportexception tte thttpclient url ttransportexception url_ url this.client this.host iox ttransportexception iox thttpclient url httpclient client ttransportexception url_ url this.client client this.host httphost url_.gethost url_.getport url_.getdefaultport url_.getport url_.getprotocol iox ttransportexception iox setconnecttimeout timeout connecttimeout_ timeout this.client client.getparams setparameter coreconnectionpnames.connection_timeout connecttimeout_ setreadtimeout timeout readtimeout_ timeout this.client client.getparams setparameter coreconnectionpnames.so_timeout readtimeout_ setcustomheaders headers customheaders_ headers setcustomheader key customheaders_ customheaders_ hashmap customheaders_.put key close inputstream_ inputstream_.close ioe inputstream_ isopen read buf len ttransportexception inputstream_ ttransportexception ret inputstream_.read buf len ret ttransportexception ret iox ttransportexception iox write buf len requestbuffer_.write buf len flushusinghttpclient ttransportexception this.client ttransportexception data requestbuffer_.tobytearray requestbuffer_.reset httppost post inputstream post httppost this.url_.getfile post.setheader post.setheader post.setheader customheaders_ map.entry header customheaders_.entryset post.setheader header.getkey header.getvalue post.setentity data httpresponse response this.client.execute this.host post responsecode response.getstatusline getstatuscode responsecode httpstatus.sc_ok ttransportexception responsecode response.getentity getcontent buf bytearrayoutputstream baos bytearrayoutputstream len len is.read buf len baos.write buf len len response.getentity consumecontent ioe inputstream_ bytearrayinputstream baos.tobytearray ioe post post.abort ttransportexception ioe is.close ioe ttransportexception ioe flush ttransportexception this.client flushusinghttpclient data requestbuffer_.tobytearray requestbuffer_.reset httpurlconnection connection httpurlconnection url_.openconnection connecttimeout_ connection.setconnecttimeout connecttimeout_ readtimeout_ connection.setreadtimeout readtimeout_ connection.setrequestmethod connection.setrequestproperty connection.setrequestproperty connection.setrequestproperty customheaders_ map.entry header customheaders_.entryset connection.setrequestproperty header.getkey header.getvalue connection.setdooutput connection.connect connection.getoutputstream write data responsecode connection.getresponsecode responsecode httpurlconnection.http_ok ttransportexception responsecode inputstream_ connection.getinputstream iox ttransportexception iox 