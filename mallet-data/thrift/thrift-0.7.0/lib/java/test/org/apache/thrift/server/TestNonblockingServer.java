server TProcessor protocol TProtocolFactory server TNonblockingServer Args transport TFramedTransport transport TNonblockingServerSocket transport TTransport testnonblockingserver servertestbase serverthread tserver server tserver getserver tprocessor processor tnonblockingserversocket socket tprotocolfactory protofactory tnonblockingserver args socket processor processor protocolfactory protofactory override startserver tprocessor processor tprotocolfactory protofactory serverthread run tnonblockingserversocket tserversocket tnonblockingserversocket port server getserver processor tserversocket protofactory port server.serve e.printstacktrace fail serverthread.start thread.sleep override stopserver server.stop serverthread.join interruptedexception override ttransport getclienttransport ttransport underlyingtransport tframedtransport underlyingtransport 