transport io BufferedOutputStream io ByteArrayInputStream io ByteArrayOutputStream io DataInputStream io DataOutputStream io junit framework TestCase testtframedtransport testcase ttransport gettransport ttransport underlying tframedtransport underlying start end-start end-start start testread ttransportexception bytearrayoutputstream baos bytearrayoutputstream dataoutputstream dos dataoutputstream baos dos.writeint dos.write dos.writeint dos.write tmemorybuffer membuf tmemorybuffer membuf.write baos.tobytearray readcountingtransport counttrans readcountingtransport membuf ttransport trans gettransport counttrans readbuf trans.read readbuf asserttrue readbuf assertequals counttrans.readcount trans.read readbuf asserttrue readbuf assertequals counttrans.readcount assertequals trans.read assertequals counttrans.readcount readbuf assertequals trans.read readbuf asserttrue readbuf assertequals counttrans.readcount testwrite ttransportexception bytearrayoutputstream baos bytearrayoutputstream writecountingtransport countingtrans writecountingtransport tiostreamtransport bufferedoutputstream baos ttransport trans gettransport countingtrans trans.write assertequals countingtrans.writecount trans.write trans.write assertequals countingtrans.writecount trans.flush assertequals countingtrans.writecount trans.write trans.flush assertequals countingtrans.writecount datainputstream din datainputstream bytearrayinputstream baos.tobytearray assertequals din.readint buf din.read buf asserttrue buf assertequals din.readint buf din.read buf asserttrue buf testdirectread ttransportexception bytearrayoutputstream baos bytearrayoutputstream dataoutputstream dos dataoutputstream baos dos.writeint dos.write dos.writeint dos.write tmemorybuffer membuf tmemorybuffer membuf.write baos.tobytearray readcountingtransport counttrans readcountingtransport membuf ttransport trans gettransport counttrans assertequals trans.getbytesremaininginbuffer readbuf trans.read readbuf asserttrue readbuf assertequals trans.getbytesremaininginbuffer assertequals trans.getbufferposition trans.consumebuffer assertequals trans.getbytesremaininginbuffer assertequals trans.getbufferposition assertequals counttrans.readcount assertequals trans.read assertequals trans.getbytesremaininginbuffer assertequals trans.getbufferposition trans.read readbuf assertequals counttrans.readcount asserttrue readbuf assertequals trans.getbytesremaininginbuffer assertequals trans.getbufferposition 