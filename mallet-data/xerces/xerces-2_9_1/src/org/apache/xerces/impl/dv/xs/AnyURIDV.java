impl dv xs impl dv InvalidDatatypeValueException URI impl dv ValidationContext anyuridv typevalidator uri base_uri uri uri uri uri uri.malformeduriexception ex base_uri uri getallowedfacets xssimpletypedecl.facet_length xssimpletypedecl.facet_minlength xssimpletypedecl.facet_maxlength xssimpletypedecl.facet_pattern xssimpletypedecl.facet_enumeration xssimpletypedecl.facet_whitespace getactualvalue content validationcontext context invaliddatatypevalueexception content.length encoded encode content uri base_uri encoded uri.malformeduriexception ex invaliddatatypevalueexception content content gneedescaping gafterescaping1 gafterescaping2 ghexchs gneedescaping gafterescaping1 ghexchs gafterescaping2 ghexchs gneedescaping gafterescaping1 gafterescaping2 escchs len escchs.length ch len ch escchs gneedescaping ch gafterescaping1 ch ghexchs ch gafterescaping2 ch ghexchs ch encode anyuri len anyuri.length ch stringbuffer buffer stringbuffer len len ch anyuri.charat ch gneedescaping ch buffer.append buffer.append gafterescaping1 ch buffer.append gafterescaping2 ch buffer.append ch len bytes bytes anyuri.substring getbytes java.io.unsupportedencodingexception anyuri len bytes.length len bytes ch buffer.append buffer.append ghexchs ch buffer.append ghexchs ch gneedescaping buffer.append buffer.append gafterescaping1 buffer.append gafterescaping2 buffer.append buffer.length len buffer.tostring anyuri 